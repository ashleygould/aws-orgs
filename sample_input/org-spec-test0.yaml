# AWS Organization Specification

master_account_id: '640965621536'
default_policy: FullAWSAccess

organizational_unit_spec:
  - Name: prod
    Policies: 
    Accounts:
      - blee-prod
      - gorp-prod
      - gorp-dev
  - Name: auth
    Accounts:
      - auth
    Policies:
      - auth-only
  - Name: poc
    Accounts:
      - gorp-poc
      - blee-poc
    Policies: 
      - dev_service_policy
      - poc_service_policy
  - Name: nonprod
    #Ensure: absent
    Accounts:
      - blee-dev
    Policies: 
      - dev_service_policy
    Child_OU:
      - Name: formal
        Accounts:
          - test1
          - test2
      - Name: nice
      - Name: humble


policy_spec:
  - Name: FullAWSAccess
  - Name: poc_service_policy
    Ensure: present
    Description: POC Accounts
    Effect: Allow
    Actions:
      - iam:*
      - s3:*
      - lambda:*
      - cloudformation:*
      - cloudtrail:*
      - sts:*
      - sns:*
      - cloudwatch:*
  - Name: dev_service_policy
    Ensure: present
    Description: Development Accounts
    Effect: Allow
    Actions:
      - ec2:*
      - cloudfront:*
      - iam:*
      - s3:*
      - lambda:*
      - cloudformation:*
      - cloudtrail:*
      - sts:*
      - sns:*
      - cloudwatch:*
  - Name: no-services
    Ensure: absent
    Description: Deny access to all AWS services
    Effect: Deny
    Actions:
      - '*'
  - Name: auth-only
    Ensure: present
    Description: Utility account for configuring IAM user access.
    Effect: Allow
    Actions:
      - iam:*
      - cloudformation:*
      - cloudtrail:*
  - Name: test-policy
    Ensure: present
    Description: Utility account for configuring IAM user access.
    Effect: Allow
    Actions:
      - iam:*
      - cloudformation:*
      - cloudtrail:*



account_spec:
  - Name: auth
    Email: auth@blee.red
  - Name: Managment
    #this got misspelled
    Email: management@ucop.edu
  - Name: Security
    Email: ashleyg@ucop.edu
  - Name: blee-poc
    Email: blee-poc@blee.red
  - Name: blee-dev
    Email: blee-dev@blee.red
  - Name: blee-prod
    Email: blee-prod@blee.red
  - Name: gorp-poc
    Email: gorp-pod@blee.red
  - Name: gorp-dev
    Email: gorp-dev@blee.red
  - Name: gorp-prod
    Email: gorp-prod@blee.red
  - Name: test0
    Email: test0@blee.red
  - Name: test1
    Email: test1@blee.red
  - Name: test2
    Email: test2@blee.red
  - Name: test3
    Email: test3@blee.red
  - Name: test4
    Email: test4@blee.red
  - Name: test5
    Email: test5@blee.red
  #- Name: test6
    #Email: test6@blee.red




