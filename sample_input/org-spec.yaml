# AWS Organization Specification

organizational_unit_spec:
  - Name: prod
  - Name: blee
    Ensure: absent
    Policy: 
      - poc_service_policy
  - Name: poc
    Policy: 
      - dev_service_policy
      - poc_service_policy
    OU:
      - Name: was
      - Name: ppers
        #Ensure: absent
        Policy:
          - dev_service_policy
          - no-services
  - Name: nonprod
    Policy: 
      - dev_service_policy

policy_spec:
  - Name: poc_service_policy
    Ensure: present
    Description: POC Accounts
    Effect: Allow
    Actions:
      - iam:*
      - s3:*
      - lambda:*
      - cloudformation:*
      - cloudtrail:*
      - sts:*
        #- sns:*
      - cloudwatch:*
  - Name: dev_service_policy
    Ensure: present
    Description: Development Accounts
    Effect: Allow
    Actions:
      - ec2:*
      - cloudfront:*
      - iam:*
      - s3:*
      - lambda:*
      - cloudformation:*
      - cloudtrail:*
      - sts:*
      - sns:*
      - cloudwatch:*
  - Name: no-services
    Ensure: present
    Description: Deny access to all AWS services
    Effect: Deny
    Actions:
      - '*'


account_spec:
  - Name: Managment
    #this got misspelled
    Email: management@ucop.edu
    OU: prod
  - Name: Security
    Email: ashleyg@ucop.edu
    OU: nonprod
  - Name: blee-poc
    Email: blee-poc@blee.red
    OU: nonprod
  - Name: blee-dev
    Email: blee-dev@blee.red
    OU:
