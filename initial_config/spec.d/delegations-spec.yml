---
# AWS Auth Delegations Specification
#
# A delegation is a complex of IAM resources which combine to allow
# users in the ('trusted') Auth account to access and manipulate
# resources in one or several or the other ('trusting') accounts in
# the Organization.  This is accomplished by managing a delegation
# role in the trusting accounts which contains a trust policy naming
# the Auth account as 'principal', and by assigning 'assume role'
# policies to a managed group in the Auth account for each trusting
# account within the scope of the delegation specification.
#
# Each delegation spec has 8 possible attributes:
#  RoleName:         Type 'str'.   The name of the delegation role in the
#                    trusting accounts.
#  Ensure:           Type 'str'.   One of 'present' (default) or 'absent'.
#                    Setting to 'absent' deletes delegation roles in
#                    trusting accounts and removes assume role policies
#                    from the trusted group.
#  Description:      Type 'str'.  A decription applied to the delegation role.
#  TrustingAccount:  Type 'list' or keyword 'ALL'.  List of trusting accounts
#                    within the scope of the delegation.  If set to 'ALL',
#                    all accounts in the Organization are include in the
#                    delegation.
#  ExludeAccounts:   Type 'list'.  If 'TrustingAccount' attribute is set
#                    to 'ALL', any accounts listed in 'ExludeAccounts' are
#                    excluded from the delegation.
#  TrustedGroup:     The IAM group in the Auth account in which to assign
#                    assume role policies for this delegation.
#  TrustedAccount:   The account Id to use as principle in service roles.
#  RequireMFA:       Type 'bool'.  When set to 'True' (the default), add
#                    a condition to the trust policy requiring users
#                    assuming the delegation role to have valid MFA token.
#  Duration:         Type 'int'.  MaxSessionDuration time in seconds.
#                    Default is 3600 (one hour).
#  Policies:         Type 'list'.  List of IAM policies to attach to the
#                    delegation role in the trusting accounts.
#
delegations:
  - RoleName: AccountAdmin
    Ensure: present
    Description: Full access to all services
    TrustingAccount: ALL
    TrustedGroup: admins
    RequireMFA: True
    Policies:
      - AdministratorAccess
